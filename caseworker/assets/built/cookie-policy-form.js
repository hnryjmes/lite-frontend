!function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function o(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(o):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||t(e)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var i="cookies_policy",a=function(e,t,n){void 0===n&&(n={});var o=e+"="+t+"; path=/";if(n.days){var r=new Date;r.setTime(r.getTime()+864e5*n.days),o=o+"; expires="+r.toGMTString()}"https:"===document.location.protocol&&(o+="; Secure"),document.cookie=o},s=function(){"use strict";function t(e,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.formSelector=e,this.confirmationSelector=n,this.radioButtons=o,this.form=document.querySelector(this.formSelector)}var n,o,s;return n=t,(o=[{key:"boolToValue",value:function(e){return e?"on":"off"}},{key:"valueToBool",value:function(e){return"on"===e}},{key:"getPolicyOrDefault",value:function(){var e=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0,r=n.length;o<r;o++){for(var i=n[o];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length))}return null}(i),t={essential:!0,settings:!1,usage:!1,campaigns:!1};if(!e)return t;try{var n=JSON.parse(e);t.campaigns=n.campaigns||!1,t.usage=n.usage||!1,t.settings=n.settings||!1}catch(e){return t}return t}},{key:"initFormValues",value:function(){var e=this,t=this.getPolicyOrDefault();Object.entries(this.radioButtons).forEach((function(n){var o=r(n,2),i=o[0],a=o[1];e.form[a].value=e.boolToValue(t[i])}))}},{key:"setPoliciesCookie",value:function(){var e=this,t={settings:!1,usage:!1,campaigns:!1};Object.entries(this.radioButtons).forEach((function(n){var o=r(n,2),i=o[0],a=o[1];t[i]=e.valueToBool(e.form[a].value)})),function(e,t,n){var o={essential:!0,settings:!1,usage:!1,campaigns:!1};o.settings=e||!1,o.usage=t||!1,o.campaigns=n||!1;var r=JSON.stringify(o);a(i,r,{days:365})}(t.settings,t.usage,t.campaigns)}},{key:"displayConfirmation",value:function(){document.querySelector(this.confirmationSelector).style.display="block"}},{key:"bindForm",value:function(){var e=this;this.form.addEventListener("submit",(function(t){return t.preventDefault(),e.setPoliciesCookie(),a("cookie_preferences_set","true",{days:365}),e.displayConfirmation(),window.scrollTo(0,0),!1}))}}])&&e(n.prototype,o),s&&e(n,s),t}();(function(e,t,n){var o=new s(e,t,n);o.initFormValues(),o.bindForm()})("#cookie-preferences-form",".cookie-settings__confirmation",{usage:"cookies-usage"})}();
//# sourceMappingURL=cookie-policy-form.js.map
